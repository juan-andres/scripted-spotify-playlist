<button id="login-button">Login</button>
<script>
  function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
  };

  const clientId = encodeURIComponent(getUrlParameter('client_id'));
  const redirectUri = encodeURIComponent(window.location.origin + '/callback');

  const spotifyAuthorizeUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&redirect_uri=${redirectUri}`;

  const $loginButton = document.getElementById('login-button');

  $loginButton.addEventListener('click', () => {
      window.location = spotifyAuthorizeUrl;
  });
</script>
